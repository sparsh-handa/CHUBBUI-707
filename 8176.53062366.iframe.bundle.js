"use strict";(self.webpackChunkui_kit=self.webpackChunkui_kit||[]).push([[8176],{"./libs/ui-components/src/lib/cb-checkbox/cb-checkbox.directive.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>CbCheckboxDirective});var tslib__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_forms__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/cdk/fesm2022/coercion.mjs"),_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@ngneat/until-destroy/fesm2022/ngneat-until-destroy.mjs"),_cb_icon__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./libs/ui-components/src/lib/cb-icon/cb-icon.component.ts"),_cb_icon_models__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/ui-components/src/lib/cb-icon/models/cb-icon-size.ts"),_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/ui-components/src/lib/common/services/class-updater/class-updater.service.ts"),_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./libs/ui-components/src/lib/common/services/cb-error-service.ts"),_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./libs/ui-components/src/lib/common/services/cb-tooltip-service.ts"),_common__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./libs/ui-components/src/lib/common/utils/dom-utils/dom-utils.ts"),_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./libs/ui-components/src/lib/common/models/node-names.ts"),_common__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./libs/ui-components/src/lib/common/models/cb-color-theme.ts"),lodash_es__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/isEmpty.js"),lodash_es__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/lodash-es/isNil.js");let CbCheckboxDirective=class CbCheckboxDirective{get label(){return this._label}set label(value){this._label=value,this._updateLabel(this._element.nativeElement,value)}get multiCheckbox(){return this._multiCheckbox}set multiCheckbox(value){this._multiCheckbox=(0,_angular_cdk_coercion__WEBPACK_IMPORTED_MODULE_0__.W6)(value)}get groupLabel(){return this._groupLabel}set groupLabel(value){this._groupLabel=value,this._updateGroupLabel(this._element.nativeElement,value)}get helperText(){return this._helperText}set helperText(value){this._helperText=value,value&&!this._isAllDisabled?this._updateHelperText(value):this._removeHelperText()}get readonly(){return this._readonly}set readonly(value){this._readonly=value,value?this._activateReadOnly():this._deactivateReadOnly()}get errorMessage(){return this._errorMessage}set errorMessage(value){this._errorMessage=value,this._isAllDisabled||this._errorService?.renderError(value)}get cbTooltip(){return this._cbTooltip}set cbTooltip(value){this._cbTooltip=value,(0,lodash_es__WEBPACK_IMPORTED_MODULE_1__.c)(value)?this._removeTooltip():(this._setTooltip(),this._tooltipService?.updateTooltipExplanationText(value))}set formControl(controlList){this._listenToControlChanges(controlList)}constructor(_ngControl,_element,_renderer,_vcr,_cdr){this._ngControl=_ngControl,this._element=_element,this._renderer=_renderer,this._vcr=_vcr,this._cdr=_cdr,this._cbTooltip="",this.tooltipStyleVariant="stroke",this.tooltipColorTheme="default",this._isAllDisabled=!1,this.checkedIconConfig={key:"utility-checkbox-checked",size:_cb_icon_models__WEBPACK_IMPORTED_MODULE_2__.a.REGULAR,color:"theme"},this.uncheckedIconConfig={key:"utility-checkbox-unchecked",size:_cb_icon_models__WEBPACK_IMPORTED_MODULE_2__.a.REGULAR,color:"theme"},this._classUpdater=new _common__WEBPACK_IMPORTED_MODULE_3__.u}ngAfterViewInit(){if(this._initCommonServices(),this.multiCheckbox||(this._createLabelContainer(this._element.nativeElement,this.label??""),this._applyStyling(this._element.nativeElement,this.colorTheme),this._errorService?.initializeError(this.errorMessage)),this.multiCheckbox){this._createGroupLabel(this._element.nativeElement,this.groupLabel),this._renderer.addClass(this._element.nativeElement,"cb-checkbox__container");this._element.nativeElement.querySelectorAll("div").forEach((divElement=>{this._createLabelContainer(divElement,""),this._applyStyling(divElement,this.colorTheme)})),this._createHelperTextWrapper(),this._errorService?.initializeError(this.errorMessage),this._setTooltip()}this._registerDisabledMutationObserver(),this._setIsAllDisabled(),this.readonly&&this._activateReadOnly()}ngOnDestroy(){this._disconnectObservers()}_initErrorService(){this._errorService=new _common__WEBPACK_IMPORTED_MODULE_4__.s(this._element,this._renderer,this._vcr,this._cdr)}_initTooltipService(){this._tooltipService=new _common__WEBPACK_IMPORTED_MODULE_5__.w(this._element,this._renderer,this._vcr,this._cdr)}_initClassUpdater(){this._classUpdater.forComponent({defaultElement:this._element.nativeElement,baseClass:"cb-checkbox"})}_initCommonServices(){this._initErrorService(),this._initClassUpdater(),this._initTooltipService()}onInput(event){this._updateIcon(event)}_registerDisabledMutationObserver(){this._mutationObservers=[];this._getInputs().forEach((input=>{const observer=new MutationObserver((mutations=>{mutations.forEach((mutation=>{const currentMutation=mutation;"disabled"===currentMutation.attributeName&&(this._updateIcon(currentMutation.target),this._setIsAllDisabled(),this._isAllDisabled?(this._removeHelperText(),this._errorService?.renderError(null)):(this._updateHelperText(this.helperText),this._errorService?.renderError(this.errorMessage)))}))}));observer.observe(input,{attributes:!0}),this._mutationObservers.push(observer)}))}_disconnectObservers(){this._mutationObservers&&this._mutationObservers.forEach((observer=>observer.disconnect()))}_setIsAllDisabled(){const inputs=this._getInputs();this._isAllDisabled=inputs.map((input=>input.disabled)).reduce(((accumulatedValue,currentValue)=>accumulatedValue&&currentValue),!0)}_getInputs(){const divElements=this.multiCheckbox?this._element.nativeElement.querySelectorAll("div"):[this._element.nativeElement],inputs=[];return divElements.forEach((divElement=>{const label=_common__WEBPACK_IMPORTED_MODULE_6__.U.getFirstNodeOfType(divElement.childNodes,_common__WEBPACK_IMPORTED_MODULE_7__.M.LABEL);inputs.push(_common__WEBPACK_IMPORTED_MODULE_6__.U.getFirstNodeOfType(label?.childNodes,_common__WEBPACK_IMPORTED_MODULE_7__.M.INPUT))})),inputs?.filter((_=>_))}_activateReadOnly(){const inputs=this._getInputs();(0,lodash_es__WEBPACK_IMPORTED_MODULE_1__.c)(inputs)||(this._classUpdater.addReadOnlyClass(),_common__WEBPACK_IMPORTED_MODULE_6__.U.disableKeyboardInput(inputs))}_deactivateReadOnly(){const inputs=this._getInputs();(0,lodash_es__WEBPACK_IMPORTED_MODULE_1__.c)(inputs)||(this._classUpdater.removeReadOnlyClass(),_common__WEBPACK_IMPORTED_MODULE_6__.U.enableKeyboardInput(inputs))}_createLabelContainer(divElement,label){const labelElement=divElement.querySelector("label");if(labelElement){const labelElementInnerHTML=labelElement.innerHTML;labelElement.innerHTML="";const inputElement=divElement.querySelector("input");this._renderer.appendChild(labelElement,inputElement),this._createIconContainer(labelElement),this._updateIcon(inputElement);const labelTextElement=this._renderer.createElement("span");labelTextElement.innerHTML=labelElementInnerHTML,this._renderer.appendChild(labelElement,labelTextElement)}if(!labelElement){const labelElement=this._renderer.createElement("label"),inputElement=divElement.querySelector("input");this._renderer.appendChild(labelElement,inputElement),this._createIconContainer(labelElement),this._updateIcon(inputElement);const labelTextElement=this._renderer.createElement("span"),labelText=this._renderer.createText(label);this._renderer.appendChild(labelTextElement,labelText),this._renderer.appendChild(labelElement,labelTextElement),this._renderer.appendChild(divElement,labelElement)}}_updateLabel(wrapperElement,newLabel){const labelContainer=wrapperElement.querySelector("label"),labelTextElement=labelContainer?.querySelectorAll("span")[1];labelTextElement&&(labelTextElement.innerText=newLabel)}_createHelperTextWrapper(){this._helperTextContainer=this._renderer.createElement("div"),this._renderer.addClass(this._helperTextContainer,"cb-checkbox__helper-text-container"),this.helperText&&this._createHelperText(),this._renderer.appendChild(this._element.nativeElement,this._helperTextContainer)}_updateHelperText(nextHelperText){this._helperTextContainer&&this._helperTextElement?this._helperTextElement.textContent=nextHelperText:this._createHelperText()}_createHelperText(){this._helperTextElement=this._renderer.createElement("div"),this._renderer.addClass(this._helperTextElement,"cb-checkbox__helper-text");const elementText=this._renderer.createText(this.helperText);this._renderer.appendChild(this._helperTextElement,elementText),this._helperTextContainer&&this._renderer.appendChild(this._helperTextContainer,this._helperTextElement)}_removeHelperText(){this._helperTextContainer&&(this._renderer.removeChild(this._helperTextContainer,this._helperTextElement),this._helperTextElement=null)}_setTooltip(){const groupLabelElement=this._element.nativeElement.querySelector(".cb-checkbox__group-label");if(!(0,lodash_es__WEBPACK_IMPORTED_MODULE_1__.c)(this.cbTooltip)&&groupLabelElement&&!groupLabelElement.querySelector(".cb-tooltip__container")){const tooltipConfig={explanationText:this.cbTooltip,styleVariant:this.tooltipStyleVariant,colorTheme:this.tooltipColorTheme};this._tooltipService.addTooltip(groupLabelElement,tooltipConfig)}}_removeTooltip(){const groupLabelElement=this._element.nativeElement.querySelector(".cb-checkbox__group-label");if(groupLabelElement){const tooltipElement=groupLabelElement.querySelector(".cb-tooltip__container");this._renderer.removeChild(groupLabelElement,tooltipElement)}}_createIconContainer(labelContainer){const iconContainer=this._renderer.createElement("span");this._renderer.appendChild(labelContainer,iconContainer)}_createIcon(iconConfig){const cbIconComponent=this._vcr.createComponent(_cb_icon__WEBPACK_IMPORTED_MODULE_8__.C);return cbIconComponent.instance.iconKey=iconConfig.key,cbIconComponent.instance.iconSize=iconConfig.size,cbIconComponent.instance.iconColor=iconConfig.color,cbIconComponent}_removeChildNodes(nodeToClear){return nodeToClear.childNodes.length>0&&nodeToClear.childNodes.forEach((childNode=>{this._renderer.removeChild(nodeToClear,childNode)})),nodeToClear}_addIcon(iconContainer,iconType){const iconNativeEl=this._createIcon(this[`${iconType}IconConfig`]).location.nativeElement;return this._renderer.appendChild(iconContainer,iconNativeEl),iconContainer}_updateIcon(inputElement){this._updateIconColorTheme(inputElement,this.colorTheme);const iconType=inputElement.checked?"checked":"unchecked",labelContainer=this._renderer.parentNode(inputElement),iconContainer=labelContainer?.querySelector("span");this._removeChildNodes(iconContainer),this._addIcon(iconContainer,iconType),this._cdr.detectChanges()}_updateIconColorTheme(checkedInput,colorTheme){const color=checkedInput?.disabled?"white-400":(0,lodash_es__WEBPACK_IMPORTED_MODULE_9__.c)(colorTheme)?"theme":colorTheme===_common__WEBPACK_IMPORTED_MODULE_10__.y.DEFAULT?"white-800":`${colorTheme}-branding`;this.checkedIconConfig.color=color,this.uncheckedIconConfig.color=color}_createGroupLabel(wrapperDivElement,label){const groupLabelElement=this._renderer.createElement("p"),labelText=this._renderer.createText(label||"");this._renderer.appendChild(groupLabelElement,labelText),this._renderer.insertBefore(wrapperDivElement,groupLabelElement,wrapperDivElement.querySelector("div")),this._renderer.addClass(groupLabelElement,"cb-checkbox__group-label")}_updateGroupLabel(wrapperDivElement,newGroupLabel){const labelContainer=wrapperDivElement.querySelector("p");labelContainer&&(labelContainer.childNodes[0].nodeValue=newGroupLabel)}_applyStyling(divElement,colorTheme){const labelContainer=divElement.querySelector("label"),inputElement=labelContainer.querySelector("input"),iconContainer=labelContainer.querySelector("span"),labelTextContainer=labelContainer.lastChild;this._renderer.addClass(divElement,"cb-checkbox"),colorTheme===_common__WEBPACK_IMPORTED_MODULE_10__.y.WHITE&&this._renderer.addClass(divElement,"cb-checkbox--dark"),this._renderer.addClass(labelContainer,"cb-checkbox__label-container"),this._renderer.addClass(inputElement,"cb-checkbox__input"),this._renderer.addClass(iconContainer,"cb-checkbox__icon-container"),this._renderer.addClass(labelTextContainer,"cb-checkbox__label-text")}_listenToControlChanges(controlList){controlList.forEach(((control,index)=>{control.valueChanges?.pipe((0,_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_11__.r)(this)).subscribe((()=>{const inputList=this._element.nativeElement.querySelectorAll("input");this._updateIcon(inputList[index])}))}))}static#_=this.ctorParameters=()=>[{type:_angular_forms__WEBPACK_IMPORTED_MODULE_12__.eq,decorators:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_13__.Optional}]},{type:_angular_core__WEBPACK_IMPORTED_MODULE_13__.ElementRef},{type:_angular_core__WEBPACK_IMPORTED_MODULE_13__.Renderer2},{type:_angular_core__WEBPACK_IMPORTED_MODULE_13__.ViewContainerRef},{type:_angular_core__WEBPACK_IMPORTED_MODULE_13__.ChangeDetectorRef}];static#_2=this.propDecorators={colorTheme:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_13__.Input}],label:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_13__.Input}],multiCheckbox:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_13__.Input}],groupLabel:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_13__.Input}],helperText:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_13__.Input}],readonly:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_13__.Input}],errorMessage:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_13__.Input}],cbTooltip:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_13__.Input}],tooltipStyleVariant:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_13__.Input}],tooltipColorTheme:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_13__.Input}],formControl:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_13__.ContentChildren,args:[_angular_forms__WEBPACK_IMPORTED_MODULE_12__.eq,{descendants:!0}]}],onInput:[{type:_angular_core__WEBPACK_IMPORTED_MODULE_13__.HostListener,args:["input",["$event.target"]]}]}};CbCheckboxDirective=(0,tslib__WEBPACK_IMPORTED_MODULE_14__.UN)([(0,_ngneat_until_destroy__WEBPACK_IMPORTED_MODULE_11__.q)(),(0,_angular_core__WEBPACK_IMPORTED_MODULE_13__.Directive)({selector:"[cbCheckbox]"}),(0,tslib__WEBPACK_IMPORTED_MODULE_14__.YR)("design:paramtypes",[_angular_forms__WEBPACK_IMPORTED_MODULE_12__.eq,_angular_core__WEBPACK_IMPORTED_MODULE_13__.ElementRef,_angular_core__WEBPACK_IMPORTED_MODULE_13__.Renderer2,_angular_core__WEBPACK_IMPORTED_MODULE_13__.ViewContainerRef,_angular_core__WEBPACK_IMPORTED_MODULE_13__.ChangeDetectorRef])],CbCheckboxDirective)},"./libs/ui-components/src/lib/cb-checkbox/cb-checkbox.module.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>CbCheckboxModule});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_forms__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),_cb_checkbox_directive__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/ui-components/src/lib/cb-checkbox/cb-checkbox.directive.ts"),_cb_icon_cb_icon_module__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./libs/ui-components/src/lib/cb-icon/cb-icon.module.ts"),_cb_tooltip_cb_tooltip_module__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./libs/ui-components/src/lib/cb-tooltip/cb-tooltip.module.ts");let CbCheckboxModule=class CbCheckboxModule{};CbCheckboxModule=(0,tslib__WEBPACK_IMPORTED_MODULE_0__.UN)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule)({declarations:[_cb_checkbox_directive__WEBPACK_IMPORTED_MODULE_2__.G],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_3__.CommonModule,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.y,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.sl,_cb_icon_cb_icon_module__WEBPACK_IMPORTED_MODULE_5__.W,_cb_tooltip_cb_tooltip_module__WEBPACK_IMPORTED_MODULE_6__.S],exports:[_cb_checkbox_directive__WEBPACK_IMPORTED_MODULE_2__.G]})],CbCheckboxModule)}}]);