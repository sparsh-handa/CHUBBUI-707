"use strict";(self.webpackChunkui_kit=self.webpackChunkui_kit||[]).push([[4428],{"./libs/ui-components/src/lib/cb-button/cb-button.directive.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U:()=>CbButtonDirective});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),coercion=__webpack_require__("./node_modules/@angular/cdk/fesm2022/coercion.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),BehaviorSubject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js"),combineLatest=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js"),tap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),ngneat_until_destroy=__webpack_require__("./node_modules/@ngneat/until-destroy/fesm2022/ngneat-until-destroy.mjs"),isEmpty=__webpack_require__("./node_modules/lodash-es/isEmpty.js"),cb_color_theme=__webpack_require__("./libs/ui-components/src/lib/common/models/cb-color-theme.ts");const primaryColorThemeMap=new Map([[cb_color_theme.y.BLUE,"white-branding"],[cb_color_theme.y.DEFAULT,"white-branding"],[cb_color_theme.y.GREEN,"white-800"],[cb_color_theme.y.MAGENTA,"white-800"],[cb_color_theme.y.PURPLE,"white-branding"],[cb_color_theme.y.TURQUOISE,"white-800"],[cb_color_theme.y.YELLOW,"white-800"],[cb_color_theme.y.WHITE,"white-800"]]),secondaryColorThemeMap=new Map([[cb_color_theme.y.BLUE,"blue-700"],[cb_color_theme.y.DEFAULT,"white-800"],[cb_color_theme.y.GREEN,"green-400"],[cb_color_theme.y.MAGENTA,"magenta-400"],[cb_color_theme.y.PURPLE,"purple-500"],[cb_color_theme.y.TURQUOISE,"turquoise-400"],[cb_color_theme.y.YELLOW,"yellow-400"],[cb_color_theme.y.WHITE,"white-branding"]]),getCbButtonIconColor=(variant,color)=>{switch(variant){case"primary":default:return primaryColorThemeMap.get(color);case"secondary":case"ghost":return secondaryColorThemeMap.get(color)}},utilityVariants=["success","warning","danger","info"];var cb_icon_component=__webpack_require__("./libs/ui-components/src/lib/cb-icon/cb-icon.component.ts"),cb_icon_size=__webpack_require__("./libs/ui-components/src/lib/cb-icon/models/cb-icon-size.ts"),class_updater_service=__webpack_require__("./libs/ui-components/src/lib/common/services/class-updater/class-updater.service.ts"),cb_button_service=__webpack_require__("./libs/ui-components/src/lib/cb-button/cb-button.service.ts");let CbButtonDirective=class CbButtonDirective{get label(){return this._label}set label(value){if(this._label=value,!(0,isEmpty.c)(value))if(this._labelSpan){this._labelSpan.childNodes[0].remove();const newText=this._renderer.createText(value);this._renderer.appendChild(this._labelSpan,newText)}else this._createLabel()}get iconColor(){return this._iconColor}set iconColor(value){this._iconColor=value,this.iconColor$.next(value)}get disabled(){return this._disabled??!1}set disabled(value){this._disabled=value,this.disabled$.next(value),this._updateDisabled()}get variant(){return this._variant}set variant(value){this._variant=value,this.variant$.next(value)}get colorTheme(){return this._colorTheme}set colorTheme(value){this._colorTheme=value,this.colorTheme$.next(value)}get leftIcon(){return this._leftIcon}set leftIcon(value){this._leftIcon=value,this.leftIcon$.next(value)}get rightIcon(){return this._rightIcon}set rightIcon(value){this._rightIcon=value,this.rightIcon$.next(value)}constructor(_element,_renderer,_iconInjector,_vcr,_cdr,_cbButton){this._element=_element,this._renderer=_renderer,this._iconInjector=_iconInjector,this._vcr=_vcr,this._cdr=_cdr,this._cbButton=_cbButton,this.type="button",this.leftIcon$=new BehaviorSubject.g(null),this.rightIcon$=new BehaviorSubject.g(null),this.leftIconConfig={},this.rightIconConfig={},this.btnClick=new core.EventEmitter,this.disabledColor="white-400",this.disabled$=new BehaviorSubject.g(!1),this.variant$=new BehaviorSubject.g("primary"),this.colorTheme$=new BehaviorSubject.g(null),this.iconColor$=new BehaviorSubject.g(null),this._classUpdater=new class_updater_service.u}ngOnInit(){this._classUpdater.forComponent({defaultElement:this._element.nativeElement,baseClass:"cb-button",variantsToUse:"button",ignoreVariantSuffix:!0}),this.disabled=(0,coercion.W6)(this.disabled),(0,combineLatest.E)([this.disabled$,this.variant$,this.colorTheme$,this.iconColor$]).pipe((0,ngneat_until_destroy.r)(this),(0,tap.y)((([disabled,variant,colorTheme,iconColor])=>{this._refreshButtonClass(disabled,variant,colorTheme),this.leftIconConfig.color=iconColor??getCbButtonIconColor(variant,colorTheme)??"theme",this.rightIconConfig.color=iconColor??getCbButtonIconColor(variant,colorTheme)??"theme",this._updateIcon("left"),this._updateIcon("right")}))).subscribe()}ngAfterContentInit(){this._updateDisabled(),utilityVariants.includes(this.variant)||((0,isEmpty.c)(this.leftIcon)||(this.leftIconConfig.key=this.leftIcon,this._updateIcon("left")),(0,isEmpty.c)(this.rightIcon)||(this.rightIconConfig.key=this.rightIcon,this._updateIcon("right")))}_updateDisabled(){this._element?.nativeElement&&(this._element.nativeElement.disabled=this.disabled)}_updateIcon(icon){if(!(0,isEmpty.c)(icon)&&this[`${icon}IconConfig`].key){const existingIcon=this._element.nativeElement.querySelector(`.cb-button__${icon}-icon`);existingIcon&&this._renderer.removeChild(this._element,existingIcon);const iconConfig=this[`${icon}IconConfig`],cbIconComponent=this._vcr.createComponent(cb_icon_component.C,{injector:this._iconInjector}),iconColor=this.disabled?this.disabledColor:iconConfig.color;cbIconComponent.instance.iconKey=iconConfig.key,cbIconComponent.instance.iconSize=cb_icon_size.a.REGULAR,cbIconComponent.instance.iconColor=iconColor||"theme";const iconNativeEl=cbIconComponent.location.nativeElement;this._renderer.addClass(iconNativeEl,`cb-button__${icon}-icon`),"left"===icon&&(this._renderer.insertBefore(this._element.nativeElement,iconNativeEl,this._labelSpan),this._cdr.detectChanges()),"right"===icon&&(this._renderer.appendChild(this._element.nativeElement,iconNativeEl),this._cdr.detectChanges())}}_createLabel(){const labelText=this._renderer.createText(this.label),labelSpan=this._renderer.createElement("span");this._labelSpan=labelSpan,this._renderer.appendChild(labelSpan,labelText),this._renderer.appendChild(this._element.nativeElement,labelSpan)}_refreshButtonClass(disabled,variant,colorTheme){this._classUpdater.updateVariantClass(variant||"primary"),this._cbButton.updateColorThemeClass(this._element.nativeElement,colorTheme||"theme",variant),disabled?this._classUpdater.addDisabledClass():this._classUpdater.removeDisabledClass()}static#_=this.ctorParameters=()=>[{type:core.ElementRef},{type:core.Renderer2},{type:core.Injector},{type:core.ViewContainerRef},{type:core.ChangeDetectorRef},{type:cb_button_service.U}];static#_2=this.propDecorators={label:[{type:core.Input}],iconColor:[{type:core.Input}],type:[{type:core.Input}],disabled:[{type:core.Input}],variant:[{type:core.Input}],colorTheme:[{type:core.Input}],leftIcon:[{type:core.Input}],rightIcon:[{type:core.Input}],btnClick:[{type:core.Output}]}};CbButtonDirective=(0,tslib_es6.UN)([(0,ngneat_until_destroy.q)(),(0,core.Directive)({selector:"[cbButton]"}),(0,tslib_es6.YR)("design:paramtypes",[core.ElementRef,core.Renderer2,core.Injector,core.ViewContainerRef,core.ChangeDetectorRef,cb_button_service.U])],CbButtonDirective)},"./libs/ui-components/src/lib/cb-button/cb-button.module.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>CbButtonModule});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_forms__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),_cb_button_directive__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/ui-components/src/lib/cb-button/cb-button.directive.ts"),_cb_button_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./libs/ui-components/src/lib/cb-button/cb-button.service.ts"),_cb_icon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./libs/ui-components/src/lib/cb-icon/cb-icon.module.ts");let CbButtonModule=class CbButtonModule{};CbButtonModule=(0,tslib__WEBPACK_IMPORTED_MODULE_0__.UN)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule)({declarations:[_cb_button_directive__WEBPACK_IMPORTED_MODULE_2__.U],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_3__.CommonModule,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.y,_angular_forms__WEBPACK_IMPORTED_MODULE_4__.sl,_cb_icon__WEBPACK_IMPORTED_MODULE_5__.W],providers:[_cb_button_service__WEBPACK_IMPORTED_MODULE_6__.U],exports:[_cb_button_directive__WEBPACK_IMPORTED_MODULE_2__.U]})],CbButtonModule)},"./libs/ui-components/src/lib/cb-button/cb-button.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U:()=>CbButtonService});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/ui-components/src/lib/common/models/variant.ts"),_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/ui-components/src/lib/common/models/cb-color-theme-colors.ts"),lodash_es__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash-es/isNil.js");let CbButtonService=class CbButtonService{constructor(){this._colorThemeClasses=[],_common__WEBPACK_IMPORTED_MODULE_0__.g.forEach((v=>[..._common__WEBPACK_IMPORTED_MODULE_1__.q,"theme"].forEach((c=>this._colorThemeClasses.push(`cb-button--${v}-${c}`)))))}updateColorThemeClass(target,nextColorTheme,variant){if(!(0,lodash_es__WEBPACK_IMPORTED_MODULE_2__.c)(target)){const nextColorThemeClass=`cb-button--${variant}-${nextColorTheme}`;return target.classList.forEach((c=>{this._colorThemeClasses?.includes(c)&&target?.classList?.remove(c)})),target.classList.add(nextColorThemeClass),nextColorThemeClass}}static#_=this.ctorParameters=()=>[]};CbButtonService=(0,tslib__WEBPACK_IMPORTED_MODULE_3__.UN)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.Injectable)(),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.YR)("design:paramtypes",[])],CbButtonService)},"./libs/ui-components/src/lib/common/models/cb-color-theme-colors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{q:()=>CbColorThemeColors});const CbColorThemeColors=["default","blue","green","magenta","purple","turquoise","yellow","white"]},"./libs/ui-components/src/lib/common/models/variant.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>CbInputFieldVariants,g:()=>CbButtonVariants});const CbInputFieldVariants=["default","minimal","white-fill"],CbButtonVariants=["primary","secondary","ghost","success","danger","warning","info"]},"./libs/ui-components/src/lib/common/services/class-updater/class-updater.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{u:()=>ClassUpdaterService});var cb_color_theme_colors=__webpack_require__("./libs/ui-components/src/lib/common/models/cb-color-theme-colors.ts"),variant=__webpack_require__("./libs/ui-components/src/lib/common/models/variant.ts");class ClassUpdaterBaseService{initializeService(config){this._baseClass=config.baseClass,this._colorThemeBaseClass=config.colorThemeBaseClass,this._activeBaseClass=config.activeBaseClass,this._variantBaseClass=config.variantBaseClass,this._errorBaseClass=config.errorBaseClass,this._disabledBaseClass=config.disabledBaseClass,this._readonlyBaseClass=config.readonlyBaseClass,this._defaultElement=config.defaultElement,this._baseElement=config.baseElement,this._colorElement=config.colorElement,this._activeElement=config.activeElement,this._variantElement=config.variantElement,this._errorElement=config.errorElement,this._disabledElement=config.disabledElement,this._ignoreVariantSuffix=config.ignoreVariantSuffix,this._variantsToUse=config.variantsToUse||"input",this._colorThemeClasses=this._getColorThemeClasses(),this._variantClasses=this._getVariantClasses(),this._activeClass=this._getActiveClass(),this._errorClass=this._getErrorClass(),this._disabledClass=this._getDisabledClass(),this._readonlyClass=this._getReadOnlyClass()}_getColorThemeClasses(){const base=this._colorThemeBaseClass||this._baseClass;return cb_color_theme_colors.q.map((color=>`${base}--${color}-color-theme`))}_getVariantClasses(){const base=this._variantBaseClass||this._baseClass;return("button"===this._variantsToUse?variant.g:variant.Y).map((variant=>`${base}--${variant}${this._ignoreVariantSuffix?"":"-variant"}`))}_getActiveClass(){return`${this._activeBaseClass||this._baseClass}--active`}_getErrorClass(){return`${this._errorBaseClass||this._baseClass}--error-state`}_getDisabledClass(){return`${this._disabledBaseClass||this._baseClass}--disabled`}_getReadOnlyClass(){return`${this._readonlyBaseClass||this._baseClass}--read-only`}}var isString=__webpack_require__("./node_modules/lodash-es/isString.js"),isNil=__webpack_require__("./node_modules/lodash-es/isNil.js");class ClassUpdaterService extends ClassUpdaterBaseService{constructor(){super()}forComponent(config){return super.initializeService(config),this._addBaseClass(),this}_addBaseClass(){const target=this._baseElement||this._defaultElement;(0,isString.c)(this._baseClass)&&!(0,isNil.c)(target)&&target.classList.add(this._baseClass)}removeActiveClass(){const target=this._activeElement||this._defaultElement;(0,isNil.c)(target)||target.classList.forEach((c=>{c===this._activeClass&&target.classList.remove(c)}))}addActiveClass(){const target=this._activeElement??this._defaultElement;if((0,isString.c)(this._activeClass)&&!(0,isNil.c)(target))return target.classList?.add(this._activeClass),this._activeClass}removeErrorClass(){const target=this._errorElement||this._defaultElement;(0,isNil.c)(target)||target.classList.forEach((c=>{c===this._errorClass&&target.classList.remove(c)}))}addErrorClass(){const target=this._errorElement??this._defaultElement;if(!(0,isNil.c)(target)&&(0,isString.c)(this._errorClass))return target.classList?.add(this._errorClass),this._errorClass}addDisabledClass(){const target=this._disabledElement||this._defaultElement;if((0,isString.c)(this._disabledClass)&&!(0,isNil.c)(target))return target.classList.add(this._disabledClass),this._disabledClass}removeDisabledClass(){const target=this._disabledElement||this._defaultElement;(0,isNil.c)(target)||target.classList.forEach((c=>{c===this._disabledClass&&target.classList.remove(c)}))}addReadOnlyClass(){const target=this._readonlyElement||this._defaultElement;if((0,isString.c)(this._readonlyClass)&&!(0,isNil.c)(target))return target.classList.add(this._readonlyClass),this._readonlyClass}removeReadOnlyClass(){const target=this._readonlyElement||this._defaultElement;(0,isNil.c)(target)||target.classList.forEach((c=>{c===this._readonlyClass&&target.classList.remove(c)}))}updateVariantClass(nextVariant){const target=this._variantElement||this._defaultElement,nextVariantClass=this._variantClasses?.find((c=>c.includes(nextVariant)));if((0,isString.c)(nextVariantClass)&&!(0,isNil.c)(target))return target.classList.forEach((c=>{this._variantClasses?.includes(c)&&target?.classList?.remove(c)})),target.classList.add(nextVariantClass),nextVariantClass}updateColorThemeClass(nextColorTheme){const target=this._variantElement||this._defaultElement;if(!(0,isNil.c)(target)){const nextColorThemeClass=`${this._colorThemeBaseClass||this._baseClass}--${nextColorTheme}-color-theme`;return target.classList.forEach((c=>{this._colorThemeClasses?.includes(c)&&target?.classList?.remove(c)})),target.classList.add(nextColorThemeClass),nextColorThemeClass}}}}}]);